import java.util.Scanner;

public class PreParcial2 {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int opcion;
        int totalNumeros = 0;
        int pares = 0;
        int impares = 0;
        int max = Integer.MIN_VALUE;
        int min = Integer.MAX_VALUE;
        int sumaTotal = 0;
        int cantidadPrimos = 0;
        int sumaDigitosUltimo = 0;

        do {
            System.out.println("Menu:");
            System.out.println("1. Ingresar numero");
            System.out.println("2. Ver estadisticas");
            System.out.println("3. Reiniciar datos");
            System.out.println("4. Salir");
            System.out.print("Seleccione una opcion: ");
            opcion = sc.nextInt();

            switch (opcion) {
                case 1:
                    System.out.print("Ingrese un numero entero positivo: ");
                    int num = sc.nextInt();
                    if (num > 0) {
                        totalNumeros++;
                        sumaTotal += num;
                        if (num % 2 == 0) pares++;
                        else impares++;

                        if (num > max) max = num;
                        if (num < min) min = num;

                        if (esPrimo(num)) cantidadPrimos++;
                        sumaDigitosUltimo = sumaDigitos(num);
                    } else {
                        System.out.println("Error: El numero debe ser entero positivo");
                    }
                    break;

                case 2:
                    if (totalNumeros == 0) {
                        System.out.println("No hay datos para mostrar.");
                    } else {
                        System.out.println("Total de numeros ingresados: " + totalNumeros);
                        System.out.println("Cantidad de pares: " + pares);
                        System.out.println("Cantidad de impares: " + impares);
                        System.out.println("Numero maximo: " + max);
                        System.out.println("Numero minimo: " + min);
                        System.out.println("Suma total: " + sumaTotal);
                        System.out.println("Promedio: " + ((double) sumaTotal / totalNumeros));
                        System.out.println("Cantidad de numeros primos: " + cantidadPrimos);
                        System.out.println("Suma de digitos del ultimo numero ingresado: " + sumaDigitosUltimo);
                    }
                    break;

                case 3:
                    totalNumeros = 0;
                    pares = 0;
                    impares = 0;
                    max = Integer.MIN_VALUE;
                    min = Integer.MAX_VALUE;
                    sumaTotal = 0;
                    cantidadPrimos = 0;
                    sumaDigitosUltimo = 0;
                    System.out.println("Datos reiniciados.");
                    break;

                case 4:
                    System.out.println("Saliendo del programa.");
                    break;

                default:
                    System.out.println("Opcion invalida.");
            }

        } while (opcion != 4);

        sc.close();
    }

    private static boolean esPrimo(int n) {
        if (n <= 1) return false;
        for (int i = 2; i <= Math.sqrt(n); i++) {
            if (n % i == 0) return false;
        }
        return true;
    }

    private static int sumaDigitos(int n) {
        int suma = 0;
        while (n > 0) {
            suma += n % 10;
            n /= 10;
        }
        return suma;
    }
}
